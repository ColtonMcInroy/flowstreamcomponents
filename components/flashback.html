<script total>

	exports.name = 'Flashback';
	exports.group = 'Common';
	exports.version = '1';
	exports.icon = 'fa fa-history';
	exports.author = 'Peter Å irka';
	exports.inputs = [{ id: 'input', name: 'Input' }];
	exports.outputs = [{ id: 'output', name: 'Output' }];

	exports.make = function(instance, config) {

		var data = null;
		var empty = true;

		instance.message = function($) {

			if (empty) {
				instance.status({ empty: false });
				empty = false;
			}

			data = CLONE($.data);
			$.send('output');
		};

		instance.trigger = function() {
			instance.newmessage(data).send('output');
		};

		instance.status({ empty: true });

	};

</script>

<readme>
The component remembers the data for repeating the action.
</readme>

<style>
	.CLASS .padding { padding: 0 10px 10px; }
	.CLASS button { width: 100%; height: 24px; border: 1px solid #E0E0E0; border-radius: var(--radius); color: #000; background-color: #F0F0F0; margin: 0; }
	.CLASS button:hover { background-color: #F8F8F8; }
	.CLASS button:active { background-color: #E0E0E0; }
	.CLASS button:disabled { background-color: #F0F0F0; color: #A0A0A0; cursor: not-allowed; }

	.ui-dark .CLASS button { border-color: #404040; color: #FFF; background-color: #222; }
	.ui-dark .CLASS button:hover { background-color: #303030; }
	.ui-dark .CLASS button:active { background-color: #404040; }
	.ui-dark .CLASS button:disabled { background-color: #333; color: #666; cursor: not-allowed; }
</style>

<body>
	<header>
		<i class="ICON"></i>NAME
	</header>
	<div class="padding">
		<button class="exec" data-exec="FUNC.trigger" data-bind="STATUS.empty__disabled" disabled>Repeat</button>
	</div>
</body>